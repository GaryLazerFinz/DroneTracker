<!DOCTYPE html>
<html>
<title>DroneDefense</title>
<body>
  

<h1>DroneDetector</h1>
<p>This is a mic input.</p>
<p><input type="file" accept="audio/*;capture=microphone"></p>

  
<p>Add mic information.</p>
<p>X Coordinate  <input type="number" id="xcoord" value="100"> 
  Y Coordinate<input type="number" id="ycoord" value="50"> 
  Volume  <input type="number" id="db" value="50">
 <p>Click the button to add a mic</p>
 <button onclick="AddMic()">Add New</button>
 <p>Click the button find the drone.</p>
 <button onclick="FindDrone()">Find</button>
 </p>
<canvas id="myCanvas" onclick="showCoords(event)"  width="300" height="150" style="border:8px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>
<p><strong>Tip:</strong> Try to click different places in the canvas.</p>
 <div id="tester" style="width:600px;height:250px;"></div>

  
<script src="/fft.js"></script>
  <script src="plotly-latest.min.js"></script>
  <script>
    
   


<script>
	TESTER = document.getElementById('tester');
	Plotly.plot( TESTER, [{
	x: [1, 2, 3, 4, 5],
	y: [1, 2, 4, 8, 16] }], {
	margin: { t: 0 } } );
</script>
    
    
  var micx =[];
  var micy =[];
  var micdb =[];
  
  
  function AddMic (){
    micx.push (document.getElementById("xcoord").value);
    micy.push (document.getElementById("ycoord").value);
    micdb.push (document.getElementById("db").value);
    DrawMap();
  }
  
  
function DrawMap (){

for (i = 0; i < micx.length; i++) {  
  var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
  ctx.beginPath();
ctx.arc(micx[i], micy[i], micdb[i], 0, 2 * Math.PI);
ctx.stroke();
  var c=document.getElementById("myCanvas");
var ctx=c.getContext("2d");
ctx.rect(micx[i], micy[i],5, 5);
ctx.stroke();
 }
  
}
  
  function showCoords(event) {
    var x = (event.clientX - 8);
    var y = (event.clientY - 233);
    var coords = "X coords: " + x + ", Y coords: " + y;
    
    document.getElementById("xcoord").value = x;
    document.getElementById("ycoord").value = y;
}
  
  
  function FindDrone (  ){
    
    
    var dronex = 20;
    var droney = 20;
    
      var c=document.getElementById("myCanvas");
var ctx=c.getContext("2d");
ctx.rect(dronex, droney,8, 8);
ctx.stroke();
    var c=document.getElementById("myCanvas");
var ctx=c.getContext("2d");
ctx.rect(dronex, droney,4, 4);
ctx.stroke();
    
}
  </script>
  </body>
</html>
